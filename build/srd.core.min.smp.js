(function(k,q,p){function a(b){var c=this,a=b||null;this.getIsNamespace=function(){return!0};this.getParentNamespace=function(){return a};this.getName=function(){var w=null;if(null!==a){var w=null,b;for(b in a)if(a[b]===c&&null!==(w=b))break}return w};this.getFullName=function(){for(var b=[],a=c;typeof a.getParentNamespace===g.Function&&typeof a.getParentNamespace()===g.Object&&null!==a.getParentNamespace();)b.splice(0,0,a.getName()),a=a.getParentNamespace();return b.join(".")}}function u(b){return typeof b===
g.Object&&null!==b&&(b===l||typeof b.getIsNamespace===g.Function&&!0===b.getIsNamespace())}var g={String:"string",Object:"object",Undefined:"undefined",Function:"function"},l=q||this;a.ns=function(b){var c=l;if(typeof b===g.String){b=b.split(".");for(var v=l,c=0;c<b.length;c++)if(b[c]in v)var w=v[b[c]],v=typeof w===g.Undefined||null===w?v[b[c]]=new a(v):w;else v=v[b[c]]=new a(v);c=v}return c};a.isNs=function(b){return typeof b===g.Object&&null!==b&&typeof b.getIsNamespace===g.Function?!0===b.getIsNamespace():
!1};a.isNsExists=function(b){if(typeof b===g.String&&null!==b){var c=b.split("."),a=l,w=0;for(b=!1;w<c.length&&(b=u(a));w++)a=a[c[w]];b=b&&u(a)}else b=!1;return b};k&&(k.ns=a.ns,k.isNs=a.isNs,k.isNsExists=a.isNsExists);return a.ns.apply(l,[p||"SRD"]).Namespace=a})(this,this);(function(k,q){function p(a){for(var l,b=0;b<u.length;b++)if(u[b].predicate(a)){l=u[b].evaluate(a);break}return l}var a={Undefined:"undefined",Boolean:"boolean",Number:"number",String:"string",StringObject:"string object",Function:"function",Array:"array",Object:"object"},u=[{predicate:function(a){return a instanceof String},evaluate:function(g){return a.StringObject}},{predicate:function(a){return a instanceof Function},evaluate:function(g){var l=" anonymous";(g=Function.prototype.toString.call(g).match(/function\s+([^\s\{\(]+)/))&&
0<g.length&&(l=" "+g[1]);return l=a.Function+l}},{predicate:function(g){return typeof g!==a.Undefined},evaluate:function(a){return Object.prototype.toString.call(a).match(/\s([^\]]*)/)[1].toLowerCase()}},{predicate:function(a){return!0},evaluate:function(a){return typeof a}}];k&&(k.TypesNames=a,k.typeOf=p)})(this);(function(k,q){function p(a,g){function K(){for(x=!1;0!==h.length;){var m=h[0];L[m.completeType](m);if(!x)break;h.splice(0,1)}}function r(m){var d=!1===u(m);m=e.successCommon(m).callResult;return d||m}function k(m){var d=q(m);m=e.errorCommon(m);return!0===d||m.callResult}function u(m){if(F instanceof Function)return f(this,F,[m])}function z(m){var d={isCalled:!1,callResult:null};G instanceof Function&&(d.isCalled=!0,d.callResult=f(this,G,[m]));return d}function n(m){var d={isCalled:!1,callResult:null};
null!==t&&(d=f(this,t.successCommon,[m]));return d}function q(d){var a;H instanceof Function&&(a=f(this,H,[d]));return a}function y(d){var a={isCalled:!1,callResult:null};I instanceof Function&&(a.isCalled=!0,a.callResult=f(this,I,[d]));return a}function J(d){var a={isCalled:!1,callResult:null};null!==t&&t.errorCommon instanceof Function&&(a=f(this,t.errorCommon,[d]));return a}function A(m){if(null!==d&&d.callStatus!==c.InProgress&&d.callStatus!==c.NotInitialized){d.callStatus=c.InProgress;var a=
(d.argsCollection||[]).slice(0);m&&a.push(m);m=c.NotStarted;var f,e;try{f=d.method.apply(d.context,a),m=c.Success}catch(b){e=b,m=c.Error}if(m===c.Error)f=e,d.callStatus=c.Error,d.error=f,k(f),B();else if(a=f,typeof a!==l.Undefined&&null!==a&&(a.onSuccess instanceof Function||a.onError instanceof Function)){d.callResultDeferred=f;f=d.callResultDeferred;if(f.onSuccess instanceof Function)f.onSuccess(C);f=d.callResultDeferred;if(f.onError instanceof Function)f.onError(O)}else d.callStatus=c.Success,
d.callResult=f,r(f),D()}}function D(){null!==t&&t.done instanceof Function&&(f(this,t.done,[d.callResult]),x=!0)}function B(){null!==t&&t.failed instanceof Function&&(f(this,t.failed,[d.error]),x=!0)}function C(a){d.callStatus=c.Success;d.callResult=a;r(a)}function O(a){d.callStatus=c.Error;d.error=a;k(a)}function f(a,d,f){try{return d.apply(a,f)}catch(e){null!=v&&v.logError(e)}}var e=this,d={callStatus:c.NotInitialized},h=[],x,t=null,F,H,G,I;this.init=function(a,f){d={context:a,method:f,argsCollection:2<
arguments.length?Array.prototype.slice.call(arguments,2):[],callStatus:c.NotStarted};K();return e};this.single=function(a,d){null===t&&(t=new p);var f=t.init.apply(this,Array.prototype.slice.call(arguments,0));K();return f};this.getIsDone=function(){return d.callStatus===c.Success||d.callStatus===c.Error};this.getCallStatusType=function(){return d.callStatus};this.getError=function(){return d.error||null};this.getCallResult=function(){return d.callResult||null};var L={0:function(a){B(completeParamters.error)},
1:function(a){D(a.callResult)}};this.done=function(a){x=!1;h.push({completeType:b.Done,callResult:a});d&&d.callStatus===c.IsProgress||!r(a)&&A(a);x&&h.splice(0,1)};this.failed=function(a){x=!1;h.push({completeType:b.Failed,error:a});d&&d.callStatus===c.IsProgress||!k(a)||A(a);x&&h.splice(0,1)};this.successCommon=function(a){var d=z(a);a=n(a);return{isCalled:d.isCalled||a.isCalled,callResult:d.isCalled&&!1===d.callResult||a.isCalled&&!1===a.callResult}};this.errorCommon=function(a){var d=y(a);a=J(a);
return{isCalled:d.isCalled||a.isCalled,callResult:d.isCalled&&!0===d.callResult||a.isCalled&&!0===a.callResult}};this.onSuccess=function(a){F=a;e.getIsDone()&&d.callStatus===c.Success&&u(e.getCallResult());return e};this.onError=function(a){H=a;e.getIsDone()&&d.callStatus===c.Error&&q(e.getError());return e};this.onSuccessCommon=function(a){G=a;e.getIsDone()&&d.callStatus===c.Success&&e.successCommon(e.getCallResult());return e};this.onErrorCommon=function(a){I=a;e.getIsDone()&&!d.callStatus===c.Error&&
e.errorCommon(e.getError());return e}}function a(a,b,c){a={context:a,callsInfos:b,deferred:new p,callsResults:[],successCount:0};u(a,c);for(c=0;c<a.callsResults;c++)a.callsResults[c].done();return a.deferred}function u(a,b){for(var c=0;c<a.callsInfos.length;c++){var r=a.callsInfos[c],r=(new p).single.apply(this,r.func,[r.context||a.context||this].concat(r.args||[]));g(a,r,b);a.callsResults.push(r)}}function g(a,b,c){b.onError(function(b){for(var c=0;c<a.callResults.length;c++)a.callResults[c].abort();
a.deferred.failed(b)});b.onSuccess(function(b){c(a.callsResults,++a.successCount)&&a.deferred.done()})}var l={Undefined:"undefined",Boolean:"boolean"},b={Failed:0,Done:1},c={NotInitialized:-1,NotStarted:0,InProgress:1,Error:2,Success:4},v=(q||{}).logger||null;p.single=function(a,b){var c=new p;result=c.init.apply(this,[a||this,b].concat(2<arguments.length?Array.prototype.slice.call(arguments,2):[]));c.done();return result};p.any=function(b,c){return a(b,c,function(a,b){return 0<successCont})};p.all=
function(b,c){return a(b,c,function(a,b){return a.length===b})};typeof k!==l.Undefined&&(k.CallStatus=c,k.Deferred=p)})("undefined"!==typeof ns?ns("SRD.Multitasking"):this);(function(k,q){function p(){function b(a,f){for(var c in a){var d=a[c];d instanceof Function||(f[c]=d)}}function k(a,f,e,d){var h={};b(z,h);b(e,h);e=h;e.isSplitName?l(a.split(".").join("/"),f,e,d):l(a,f,e,d)}function l(b,f,c,d){var h;h=b in n?n[b].loadStatus:y.NotExists;if(h!==y.Loaded){var g;(g=typeof f!==a.String)||(g=""===(typeof f===a.String?f.replace(/^\s*/,"").replace(/\s*$/,""):f));c=g?c.isAddJsExtension?c.basePath+"/"+b+"."+c.jsExtension:b:f;b in n?(d={path:c,deferred:d},b in n&&n[b].queue.push(d)):
n[b]={loadStatus:y.NotLoaded,queue:[{path:c,deferred:d}]}}h!==y.Loading&&h!==y.Loaded&&b in n&&p(b)}function p(a){if(0!==n[a].queue.length){a in n&&q(a).deferred.begin();var b=q(a).path,c;c=g.document.getElementsByTagName(A);0<c.length?c=c[0]:(c=g.document.createElement(A),E.addHeadTitle(c));var d=g.document.createElement(D);d.type=B;M(d,a,b);d.src=b;c.appendChild(d)}}function q(a){var b=J;a in n&&(b=n[a].queue[0]);return b}function r(a){var b=null;a in n&&(b=n[a].queue.splice(0,1));return b}function M(a,
b,c){a.addEventListener(C.Load,function(a){b in n&&q(b).deferred.success();r(b);n[b].loadStatus=y.Loaded},!1);a.addEventListener(C.Error,function(a){(a=Error("Can't load script file for a next name: \""+b+'" with a next path: "'+c+'".'))&&z.logger&&z.logger.log("Warning",a.message);b in n&&(1===n[b].queue.length?(a='Can not load script file for the "'+b+'" with path: "'+q(b).path+'".',a=Error(a),b in n&&(q(b).deferred.error(a),r(b)),r()):(r(b),b in n&&p(b)))},!1)}var E=this,z=u,n={};this.useConfig=
function(b){if(typeof b===a.Object)for(var c in b)c in z&&(z[c]=b[c]);return E};this.require=function(b,c,e){var d=new N;if(typeof b===a.Object&&null!==b&&"length"in b)for(e=0;e<b.length;e++)k(b[e].name,b[e].path,c,d);else typeof b===a.String&&k(b,c,e,d);return d};var N=function(b){function c(){function e(b){try{var c=n.apply(this,[b]);typeof c===a.Boolean&&c&&(h.begin(),h.success())}catch(d){}}function d(){try{var b=l.apply(this,g);typeof b!==a.Undefined&&null!==b&&b.onSuccess instanceof Function&&
b.onError instanceof Function&&h.deferred instanceof Object&&null!==h.deferred&&h.deferred.success instanceof Function&&h.deferred.error instanceof Function&&(b.onSuccess(h.deferred.success),b.onError(h.deferred.error))}catch(c){}}var h=this,g,k=0,l,n;this.require=function(){h.deferred=new c;h.deferred.begin();for(var a=arguments,d=[],e=0;e<a.length;e++)d.push(a[e]);g=d;h.onSuccess(b);h.onError(h.deferred.error);return h.deferred};this.begin=function(){k++};this.error=function(a){k--;n instanceof
Function&&e(a)};this.success=function(){k--;0===k&&l instanceof Function&&d()};this.onSuccess=function(a){l=a;return h};this.onError=function(a){n=a;return h}}return c}(this.require),y={NotExists:-1,NotLoaded:0,Loading:1,Loaded:2},J=null,A="head",D="script",B="text/javascript",C={Load:"load",Error:"error"};"SRD"in g&&"Require"in g.SRD&&"Config"in g.SRD.Require&&E.useConfig(g.SRD.Require.Config)}var a={Undefined:"undefined",Boolean:"boolean",String:"string",Function:"function",Object:"object"},u={isSplitName:!1,
basePath:".",isAddJsExtension:!0,jsExtension:"js"},g=q||this,l,b={getInstance:function(){typeof l===a.Undefined&&(l=new p);return l}};k&&(k.require=b.getInstance().require,k.require.useConfig=b.getInstance().useConfig);return b})(this,window);
